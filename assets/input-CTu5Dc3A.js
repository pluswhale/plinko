import{r as me,j as S,f as Nt,g as Tt,T as Ye,h as Ot,R as j}from"./index-B4whap7w.js";const Ct="_button_vqv2t_1",It="_button__icon_right_vqv2t_28",Lt="_button__icon_left_vqv2t_32",jt="_button__text_conteiner_vqv2t_37",Pt="_button__text_conteiner__text_vqv2t_41",Ut="_button__text_conteiner__subtext_vqv2t_49",Bt="_shake_vqv2t_63",te={button:Ct,button__icon_right:It,button__icon_left:Lt,button__text_conteiner:jt,button__text_conteiner__text:Pt,button__text_conteiner__subtext:Ut,shake:Bt},Mt=e=>{const{text:r,subText:t,fontSize:i="16px",height:u="",fontFamily:o,fontWeight:d,boxShadow:v,imageLeft:w,backgroundImage:D,imageRight:g,backgroundColor:h,width:C="100%",textTransform:E="uppercase",borderRadius:F,stylesForTexts:L,isDisabled:G,onClick:J}=e,[x,M]=me.useState(!1);return me.useEffect(()=>{const z=setInterval(()=>{M(!0),setTimeout(()=>{M(!1)},500)},1e4);return()=>clearInterval(z)},[]),S.jsxs("button",{onClick:J||void 0,disabled:G,style:{fontSize:i,height:u,backgroundColor:h,fontFamily:o,fontWeight:d,width:C,textTransform:E,borderRadius:F,boxShadow:v,backgroundImage:h?"none":D||"linear-gradient(to bottom, #f2632e, #e93324)"},className:te.button,children:[w&&S.jsx("img",{className:`${te.button__icon_left} ${x?te.shake:""}`,src:w}),S.jsxs("div",{className:te.button__text_conteiner,children:[S.jsx("span",{style:(L==null?void 0:L.main)||{},className:te.button__text_conteiner__text,children:r}),S.jsx("span",{style:(L==null?void 0:L.sub)||{},className:te.button__text_conteiner__subtext,children:t})]}),g&&S.jsx("img",{className:te.button__icon_right,src:g})]})},qt="_app__footer_connect_1rmcy_1",$t="_app__footer_connect_container_1rmcy_12",Wt="_app__footer_connect_score_1rmcy_19",Ne={app__footer_connect:qt,app__footer_connect_container:$t,app__footer_connect_score:Wt};function zt(e){if(!e)return"0";const t=parseFloat(e).toFixed(2),[i,u]=t.split(".");return!u||parseInt(u)===0?i:parseFloat(t).toString()}const Gr=({unclaimedTokens:e,isMobile:r})=>{const t=Nt(),i=Tt(),u=()=>{i.pathname.includes("payment")?t("/"):t("/payment")},o=()=>i.pathname.includes("payment")?"Back to the game":"Deposit / Withdraw";return S.jsx("div",{className:Ne.app__footer_connect,children:S.jsxs("div",{className:Ne.app__footer_connect_container,children:[S.jsxs("div",{className:Ne.app__footer_connect_score,children:[S.jsx(Ye,{fontSize:r?"16px":"40px",children:"In-game balance"}),S.jsx(Ye,{fontSize:r?"30px":"50px",fontFamily:"Roundy Rainbows, sans-serif",children:zt(String(e))})]}),S.jsx(Mt,{onClick:u,fontFamily:"Montserrat, sans-serif",height:"42px",fontSize:r?"16px":"40px",backgroundImage:"linear-gradient(rgb(32 167 228), rgb(0, 128, 187))",text:o(),fontWeight:"normal",width:"fit-content",textTransform:"none",borderRadius:"24px"})]})})};var Ht={BASE_URL:"/whisky-plinko/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const Ze=e=>{let r;const t=new Set,i=(g,h)=>{const C=typeof g=="function"?g(r):g;if(!Object.is(C,r)){const E=r;r=h??(typeof C!="object"||C===null)?C:Object.assign({},r,C),t.forEach(F=>F(r,E))}},u=()=>r,w={setState:i,getState:u,getInitialState:()=>D,subscribe:g=>(t.add(g),()=>t.delete(g)),destroy:()=>{(Ht?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),t.clear()}},D=r=e(i,u,w);return w},Kt=e=>e?Ze(e):Ze;var ft={exports:{}},dt={},_t={exports:{}},yt={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var le=me;function Gt(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var Jt=typeof Object.is=="function"?Object.is:Gt,Qt=le.useState,Xt=le.useEffect,Yt=le.useLayoutEffect,Zt=le.useDebugValue;function er(e,r){var t=r(),i=Qt({inst:{value:t,getSnapshot:r}}),u=i[0].inst,o=i[1];return Yt(function(){u.value=t,u.getSnapshot=r,Te(u)&&o({inst:u})},[e,t,r]),Xt(function(){return Te(u)&&o({inst:u}),e(function(){Te(u)&&o({inst:u})})},[e]),Zt(t),t}function Te(e){var r=e.getSnapshot;e=e.value;try{var t=r();return!Jt(e,t)}catch{return!0}}function tr(e,r){return r()}var rr=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?tr:er;yt.useSyncExternalStore=le.useSyncExternalStore!==void 0?le.useSyncExternalStore:rr;_t.exports=yt;var sr=_t.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Se=me,nr=sr;function ir(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var or=typeof Object.is=="function"?Object.is:ir,ar=nr.useSyncExternalStore,ur=Se.useRef,lr=Se.useEffect,cr=Se.useMemo,fr=Se.useDebugValue;dt.useSyncExternalStoreWithSelector=function(e,r,t,i,u){var o=ur(null);if(o.current===null){var d={hasValue:!1,value:null};o.current=d}else d=o.current;o=cr(function(){function w(E){if(!D){if(D=!0,g=E,E=i(E),u!==void 0&&d.hasValue){var F=d.value;if(u(F,E))return h=F}return h=E}if(F=h,or(g,E))return F;var L=i(E);return u!==void 0&&u(F,L)?F:(g=E,h=L)}var D=!1,g,h,C=t===void 0?null:t;return[function(){return w(r())},C===null?void 0:function(){return w(C())}]},[r,t,i,u]);var v=ar(e,o[0],o[1]);return lr(function(){d.hasValue=!0,d.value=v},[v]),fr(v),v};ft.exports=dt;var dr=ft.exports;const _r=Ot(dr);var je={BASE_URL:"/whisky-plinko/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{useDebugValue:yr}=j,{useSyncExternalStoreWithSelector:vr}=_r;let et=!1;const hr=e=>e;function gr(e,r=hr,t){(je?"production":void 0)!=="production"&&t&&!et&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),et=!0);const i=vr(e.subscribe,e.getState,e.getServerState||e.getInitialState,r,t);return yr(i),i}const tt=e=>{(je?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const r=typeof e=="function"?Kt(e):e,t=(i,u)=>gr(r,i,u);return Object.assign(t,r),t},br=e=>e?tt(e):tt;var Jr=e=>((je?"production":void 0)!=="production"&&console.warn("[DEPRECATED] Default export is deprecated. Instead use `import { create } from 'zustand'`."),br(e));const xr="_wrapper_125vu_1",pr="_label_text_125vu_1",mr="_label_125vu_1",Fr="_input_125vu_17",Vr="_input__error_125vu_42",re={wrapper:xr,label_text:pr,label:mr,input:Fr,input__error:Vr};var ve=e=>e.type==="checkbox",ue=e=>e instanceof Date,P=e=>e==null;const vt=e=>typeof e=="object";var O=e=>!P(e)&&!Array.isArray(e)&&vt(e)&&!ue(e),Er=e=>O(e)&&e.target?ve(e.target)?e.target.checked:e.target.value:e,wr=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Sr=(e,r)=>e.has(wr(r)),Ar=e=>{const r=e.constructor&&e.constructor.prototype;return O(r)&&r.hasOwnProperty("isPrototypeOf")},Pe=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function W(e){let r;const t=Array.isArray(e);if(e instanceof Date)r=new Date(e);else if(e instanceof Set)r=new Set(e);else if(!(Pe&&(e instanceof Blob||e instanceof FileList))&&(t||O(e)))if(r=t?[]:{},!t&&!Ar(e))r=e;else for(const i in e)e.hasOwnProperty(i)&&(r[i]=W(e[i]));else return e;return r}var he=e=>Array.isArray(e)?e.filter(Boolean):[],A=e=>e===void 0,_=(e,r,t)=>{if(!r||!O(e))return t;const i=he(r.split(/[,[\].]+?/)).reduce((u,o)=>P(u)?u:u[o],e);return A(i)||i===e?A(e[r])?t:e[r]:i},Y=e=>typeof e=="boolean",Ue=e=>/^\w*$/.test(e),ht=e=>he(e.replace(/["|']|\]/g,"").split(/\.|\[/)),V=(e,r,t)=>{let i=-1;const u=Ue(r)?[r]:ht(r),o=u.length,d=o-1;for(;++i<o;){const v=u[i];let w=t;if(i!==d){const D=e[v];w=O(D)||Array.isArray(D)?D:isNaN(+u[i+1])?{}:[]}if(v==="__proto__")return;e[v]=w,e=e[v]}return e};const rt={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},K={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},X={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},gt=j.createContext(null),Dr=()=>j.useContext(gt),Qr=e=>{const{children:r,...t}=e;return j.createElement(gt.Provider,{value:t},r)};var kr=(e,r,t,i=!0)=>{const u={defaultValues:r._defaultValues};for(const o in e)Object.defineProperty(u,o,{get:()=>{const d=o;return r._proxyFormState[d]!==K.all&&(r._proxyFormState[d]=!i||K.all),e[d]}});return u},B=e=>O(e)&&!Object.keys(e).length,Rr=(e,r,t,i)=>{t(e);const{name:u,...o}=e;return B(o)||Object.keys(o).length>=Object.keys(r).length||Object.keys(o).find(d=>r[d]===K.all)},Oe=e=>Array.isArray(e)?e:[e];function Nr(e){const r=j.useRef(e);r.current=e,j.useEffect(()=>{const t=!e.disabled&&r.current.subject&&r.current.subject.subscribe({next:r.current.next});return()=>{t&&t.unsubscribe()}},[e.disabled])}var Q=e=>typeof e=="string",Tr=(e,r,t,i,u)=>Q(e)?(i&&r.watch.add(e),_(t,e,u)):Array.isArray(e)?e.map(o=>(i&&r.watch.add(o),_(t,o))):(i&&(r.watchAll=!0),t),Or=(e,r,t,i,u)=>r?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[i]:u||!0}}:{},st=e=>({isOnSubmit:!e||e===K.onSubmit,isOnBlur:e===K.onBlur,isOnChange:e===K.onChange,isOnAll:e===K.all,isOnTouch:e===K.onTouched}),nt=(e,r,t)=>!t&&(r.watchAll||r.watch.has(e)||[...r.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const ye=(e,r,t,i)=>{for(const u of t||Object.keys(e)){const o=_(e,u);if(o){const{_f:d,...v}=o;if(d){if(d.refs&&d.refs[0]&&r(d.refs[0],u)&&!i)break;if(d.ref&&r(d.ref,d.name)&&!i)break;ye(v,r)}else O(v)&&ye(v,r)}}};var Cr=(e,r,t)=>{const i=he(_(e,t));return V(i,"root",r[t]),V(e,t,i),e},Be=e=>e.type==="file",Z=e=>typeof e=="function",Fe=e=>{if(!Pe)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},pe=e=>Q(e),Me=e=>e.type==="radio",Ve=e=>e instanceof RegExp;const it={value:!1,isValid:!1},ot={value:!0,isValid:!0};var bt=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!A(e[0].attributes.value)?A(e[0].value)||e[0].value===""?ot:{value:e[0].value,isValid:!0}:ot:it}return it};const at={isValid:!1,value:null};var xt=e=>Array.isArray(e)?e.reduce((r,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:r,at):at;function ut(e,r,t="validate"){if(pe(e)||Array.isArray(e)&&e.every(pe)||Y(e)&&!e)return{type:t,message:pe(e)?e:"",ref:r}}var ae=e=>O(e)&&!Ve(e)?e:{value:e,message:""},lt=async(e,r,t,i,u)=>{const{ref:o,refs:d,required:v,maxLength:w,minLength:D,min:g,max:h,pattern:C,validate:E,name:F,valueAsNumber:L,mount:G,disabled:J}=e._f,x=_(r,F);if(!G||J)return{};const M=d?d[0]:o,z=b=>{i&&M.reportValidity&&(M.setCustomValidity(Y(b)?"":b||""),M.reportValidity())},R={},ne=Me(o),ge=ve(o),ee=ne||ge,ie=(L||Be(o))&&A(o.value)&&A(x)||Fe(o)&&o.value===""||x===""||Array.isArray(x)&&!x.length,q=Or.bind(null,F,t,R),be=(b,p,N,I=X.maxLength,H=X.minLength)=>{const $=b?p:N;R[F]={type:b?I:H,message:$,ref:o,...q(b?I:H,$)}};if(u?!Array.isArray(x)||!x.length:v&&(!ee&&(ie||P(x))||Y(x)&&!x||ge&&!bt(d).isValid||ne&&!xt(d).isValid)){const{value:b,message:p}=pe(v)?{value:!!v,message:v}:ae(v);if(b&&(R[F]={type:X.required,message:p,ref:M,...q(X.required,p)},!t))return z(p),R}if(!ie&&(!P(g)||!P(h))){let b,p;const N=ae(h),I=ae(g);if(!P(x)&&!isNaN(x)){const H=o.valueAsNumber||x&&+x;P(N.value)||(b=H>N.value),P(I.value)||(p=H<I.value)}else{const H=o.valueAsDate||new Date(x),$=de=>new Date(new Date().toDateString()+" "+de),ce=o.type=="time",fe=o.type=="week";Q(N.value)&&x&&(b=ce?$(x)>$(N.value):fe?x>N.value:H>new Date(N.value)),Q(I.value)&&x&&(p=ce?$(x)<$(I.value):fe?x<I.value:H<new Date(I.value))}if((b||p)&&(be(!!b,N.message,I.message,X.max,X.min),!t))return z(R[F].message),R}if((w||D)&&!ie&&(Q(x)||u&&Array.isArray(x))){const b=ae(w),p=ae(D),N=!P(b.value)&&x.length>+b.value,I=!P(p.value)&&x.length<+p.value;if((N||I)&&(be(N,b.message,p.message),!t))return z(R[F].message),R}if(C&&!ie&&Q(x)){const{value:b,message:p}=ae(C);if(Ve(b)&&!x.match(b)&&(R[F]={type:X.pattern,message:p,ref:o,...q(X.pattern,p)},!t))return z(p),R}if(E){if(Z(E)){const b=await E(x,r),p=ut(b,M);if(p&&(R[F]={...p,...q(X.validate,p.message)},!t))return z(p.message),R}else if(O(E)){let b={};for(const p in E){if(!B(b)&&!t)break;const N=ut(await E[p](x,r),M,p);N&&(b={...N,...q(p,N.message)},z(N.message),t&&(R[F]=b))}if(!B(b)&&(R[F]={ref:M,...b},!t))return R}}return z(!0),R};function Ir(e,r){const t=r.slice(0,-1).length;let i=0;for(;i<t;)e=A(e)?i++:e[r[i++]];return e}function Lr(e){for(const r in e)if(e.hasOwnProperty(r)&&!A(e[r]))return!1;return!0}function T(e,r){const t=Array.isArray(r)?r:Ue(r)?[r]:ht(r),i=t.length===1?e:Ir(e,t),u=t.length-1,o=t[u];return i&&delete i[o],u!==0&&(O(i)&&B(i)||Array.isArray(i)&&Lr(i))&&T(e,t.slice(0,-1)),e}var Ce=()=>{let e=[];return{get observers(){return e},next:u=>{for(const o of e)o.next&&o.next(u)},subscribe:u=>(e.push(u),{unsubscribe:()=>{e=e.filter(o=>o!==u)}}),unsubscribe:()=>{e=[]}}},Ee=e=>P(e)||!vt(e);function se(e,r){if(Ee(e)||Ee(r))return e===r;if(ue(e)&&ue(r))return e.getTime()===r.getTime();const t=Object.keys(e),i=Object.keys(r);if(t.length!==i.length)return!1;for(const u of t){const o=e[u];if(!i.includes(u))return!1;if(u!=="ref"){const d=r[u];if(ue(o)&&ue(d)||O(o)&&O(d)||Array.isArray(o)&&Array.isArray(d)?!se(o,d):o!==d)return!1}}return!0}var pt=e=>e.type==="select-multiple",jr=e=>Me(e)||ve(e),Ie=e=>Fe(e)&&e.isConnected,mt=e=>{for(const r in e)if(Z(e[r]))return!0;return!1};function we(e,r={}){const t=Array.isArray(e);if(O(e)||t)for(const i in e)Array.isArray(e[i])||O(e[i])&&!mt(e[i])?(r[i]=Array.isArray(e[i])?[]:{},we(e[i],r[i])):P(e[i])||(r[i]=!0);return r}function Ft(e,r,t){const i=Array.isArray(e);if(O(e)||i)for(const u in e)Array.isArray(e[u])||O(e[u])&&!mt(e[u])?A(r)||Ee(t[u])?t[u]=Array.isArray(e[u])?we(e[u],[]):{...we(e[u])}:Ft(e[u],P(r)?{}:r[u],t[u]):t[u]=!se(e[u],r[u]);return t}var xe=(e,r)=>Ft(e,r,we(r)),Vt=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:i})=>A(e)?e:r?e===""?NaN:e&&+e:t&&Q(e)?new Date(e):i?i(e):e;function Le(e){const r=e.ref;if(!(e.refs?e.refs.every(t=>t.disabled):r.disabled))return Be(r)?r.files:Me(r)?xt(e.refs).value:pt(r)?[...r.selectedOptions].map(({value:t})=>t):ve(r)?bt(e.refs).value:Vt(A(r.value)?e.ref.value:r.value,e)}var Pr=(e,r,t,i)=>{const u={};for(const o of e){const d=_(r,o);d&&V(u,o,d._f)}return{criteriaMode:t,names:[...e],fields:u,shouldUseNativeValidation:i}},_e=e=>A(e)?e:Ve(e)?e.source:O(e)?Ve(e.value)?e.value.source:e.value:e,Ur=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function ct(e,r,t){const i=_(e,t);if(i||Ue(t))return{error:i,name:t};const u=t.split(".");for(;u.length;){const o=u.join("."),d=_(r,o),v=_(e,o);if(d&&!Array.isArray(d)&&t!==o)return{name:t};if(v&&v.type)return{name:o,error:v};u.pop()}return{name:t}}var Br=(e,r,t,i,u)=>u.isOnAll?!1:!t&&u.isOnTouch?!(r||e):(t?i.isOnBlur:u.isOnBlur)?!e:(t?i.isOnChange:u.isOnChange)?e:!0,Mr=(e,r)=>!he(_(e,r)).length&&T(e,r);const qr={mode:K.onSubmit,reValidateMode:K.onChange,shouldFocusError:!0};function $r(e={}){let r={...qr,...e},t={submitCount:0,isDirty:!1,isLoading:Z(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},i={},u=O(r.defaultValues)||O(r.values)?W(r.defaultValues||r.values)||{}:{},o=r.shouldUnregister?{}:W(u),d={action:!1,mount:!1,watch:!1},v={mount:new Set,unMount:new Set,array:new Set,watch:new Set},w,D=0;const g={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:Ce(),array:Ce(),state:Ce()},C=st(r.mode),E=st(r.reValidateMode),F=r.criteriaMode===K.all,L=s=>n=>{clearTimeout(D),D=setTimeout(s,n)},G=async s=>{if(g.isValid||s){const n=r.resolver?B((await ee()).errors):await q(i,!0);n!==t.isValid&&h.state.next({isValid:n})}},J=(s,n)=>{(g.isValidating||g.validatingFields)&&((s||Array.from(v.mount)).forEach(a=>{a&&(n?V(t.validatingFields,a,n):T(t.validatingFields,a))}),h.state.next({validatingFields:t.validatingFields,isValidating:!B(t.validatingFields)}))},x=(s,n=[],a,f,c=!0,l=!0)=>{if(f&&a){if(d.action=!0,l&&Array.isArray(_(i,s))){const y=a(_(i,s),f.argA,f.argB);c&&V(i,s,y)}if(l&&Array.isArray(_(t.errors,s))){const y=a(_(t.errors,s),f.argA,f.argB);c&&V(t.errors,s,y),Mr(t.errors,s)}if(g.touchedFields&&l&&Array.isArray(_(t.touchedFields,s))){const y=a(_(t.touchedFields,s),f.argA,f.argB);c&&V(t.touchedFields,s,y)}g.dirtyFields&&(t.dirtyFields=xe(u,o)),h.state.next({name:s,isDirty:b(s,n),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else V(o,s,n)},M=(s,n)=>{V(t.errors,s,n),h.state.next({errors:t.errors})},z=s=>{t.errors=s,h.state.next({errors:t.errors,isValid:!1})},R=(s,n,a,f)=>{const c=_(i,s);if(c){const l=_(o,s,A(a)?_(u,s):a);A(l)||f&&f.defaultChecked||n?V(o,s,n?l:Le(c._f)):I(s,l),d.mount&&G()}},ne=(s,n,a,f,c)=>{let l=!1,y=!1;const m={name:s},k=!!(_(i,s)&&_(i,s)._f.disabled);if(!a||f){g.isDirty&&(y=t.isDirty,t.isDirty=m.isDirty=b(),l=y!==m.isDirty);const U=k||se(_(u,s),n);y=!!(!k&&_(t.dirtyFields,s)),U||k?T(t.dirtyFields,s):V(t.dirtyFields,s,!0),m.dirtyFields=t.dirtyFields,l=l||g.dirtyFields&&y!==!U}if(a){const U=_(t.touchedFields,s);U||(V(t.touchedFields,s,a),m.touchedFields=t.touchedFields,l=l||g.touchedFields&&U!==a)}return l&&c&&h.state.next(m),l?m:{}},ge=(s,n,a,f)=>{const c=_(t.errors,s),l=g.isValid&&Y(n)&&t.isValid!==n;if(e.delayError&&a?(w=L(()=>M(s,a)),w(e.delayError)):(clearTimeout(D),w=null,a?V(t.errors,s,a):T(t.errors,s)),(a?!se(c,a):c)||!B(f)||l){const y={...f,...l&&Y(n)?{isValid:n}:{},errors:t.errors,name:s};t={...t,...y},h.state.next(y)}},ee=async s=>{J(s,!0);const n=await r.resolver(o,r.context,Pr(s||v.mount,i,r.criteriaMode,r.shouldUseNativeValidation));return J(s),n},ie=async s=>{const{errors:n}=await ee(s);if(s)for(const a of s){const f=_(n,a);f?V(t.errors,a,f):T(t.errors,a)}else t.errors=n;return n},q=async(s,n,a={valid:!0})=>{for(const f in s){const c=s[f];if(c){const{_f:l,...y}=c;if(l){const m=v.array.has(l.name);J([f],!0);const k=await lt(c,o,F,r.shouldUseNativeValidation&&!n,m);if(J([f]),k[l.name]&&(a.valid=!1,n))break;!n&&(_(k,l.name)?m?Cr(t.errors,k,l.name):V(t.errors,l.name,k[l.name]):T(t.errors,l.name))}y&&await q(y,n,a)}}return a.valid},be=()=>{for(const s of v.unMount){const n=_(i,s);n&&(n._f.refs?n._f.refs.every(a=>!Ie(a)):!Ie(n._f.ref))&&Ae(s)}v.unMount=new Set},b=(s,n)=>(s&&n&&V(o,s,n),!se(qe(),u)),p=(s,n,a)=>Tr(s,v,{...d.mount?o:A(n)?u:Q(s)?{[s]:n}:n},a,n),N=s=>he(_(d.mount?o:u,s,e.shouldUnregister?_(u,s,[]):[])),I=(s,n,a={})=>{const f=_(i,s);let c=n;if(f){const l=f._f;l&&(!l.disabled&&V(o,s,Vt(n,l)),c=Fe(l.ref)&&P(n)?"":n,pt(l.ref)?[...l.ref.options].forEach(y=>y.selected=c.includes(y.value)):l.refs?ve(l.ref)?l.refs.length>1?l.refs.forEach(y=>(!y.defaultChecked||!y.disabled)&&(y.checked=Array.isArray(c)?!!c.find(m=>m===y.value):c===y.value)):l.refs[0]&&(l.refs[0].checked=!!c):l.refs.forEach(y=>y.checked=y.value===c):Be(l.ref)?l.ref.value="":(l.ref.value=c,l.ref.type||h.values.next({name:s,values:{...o}})))}(a.shouldDirty||a.shouldTouch)&&ne(s,c,a.shouldTouch,a.shouldDirty,!0),a.shouldValidate&&de(s)},H=(s,n,a)=>{for(const f in n){const c=n[f],l=`${s}.${f}`,y=_(i,l);(v.array.has(s)||!Ee(c)||y&&!y._f)&&!ue(c)?H(l,c,a):I(l,c,a)}},$=(s,n,a={})=>{const f=_(i,s),c=v.array.has(s),l=W(n);V(o,s,l),c?(h.array.next({name:s,values:{...o}}),(g.isDirty||g.dirtyFields)&&a.shouldDirty&&h.state.next({name:s,dirtyFields:xe(u,o),isDirty:b(s,l)})):f&&!f._f&&!P(l)?H(s,l,a):I(s,l,a),nt(s,v)&&h.state.next({...t}),h.values.next({name:d.mount?s:void 0,values:{...o}})},ce=async s=>{d.mount=!0;const n=s.target;let a=n.name,f=!0;const c=_(i,a),l=()=>n.type?Le(c._f):Er(s),y=m=>{f=Number.isNaN(m)||m===_(o,a,m)};if(c){let m,k;const U=l(),oe=s.type===rt.BLUR||s.type===rt.FOCUS_OUT,Dt=!Ur(c._f)&&!r.resolver&&!_(t.errors,a)&&!c._f.deps||Br(oe,_(t.touchedFields,a),t.isSubmitted,E,C),ke=nt(a,v,oe);V(o,a,U),oe?(c._f.onBlur&&c._f.onBlur(s),w&&w(0)):c._f.onChange&&c._f.onChange(s);const Re=ne(a,U,oe,!1),kt=!B(Re)||ke;if(!oe&&h.values.next({name:a,type:s.type,values:{...o}}),Dt)return g.isValid&&G(),kt&&h.state.next({name:a,...ke?{}:Re});if(!oe&&ke&&h.state.next({...t}),r.resolver){const{errors:Qe}=await ee([a]);if(y(U),f){const Rt=ct(t.errors,i,a),Xe=ct(Qe,i,Rt.name||a);m=Xe.error,a=Xe.name,k=B(Qe)}}else J([a],!0),m=(await lt(c,o,F,r.shouldUseNativeValidation))[a],J([a]),y(U),f&&(m?k=!1:g.isValid&&(k=await q(i,!0)));f&&(c._f.deps&&de(c._f.deps),ge(a,k,m,Re))}},fe=(s,n)=>{if(_(t.errors,n)&&s.focus)return s.focus(),1},de=async(s,n={})=>{let a,f;const c=Oe(s);if(r.resolver){const l=await ie(A(s)?s:c);a=B(l),f=s?!c.some(y=>_(l,y)):a}else s?(f=(await Promise.all(c.map(async l=>{const y=_(i,l);return await q(y&&y._f?{[l]:y}:y)}))).every(Boolean),!(!f&&!t.isValid)&&G()):f=a=await q(i);return h.state.next({...!Q(s)||g.isValid&&a!==t.isValid?{}:{name:s},...r.resolver||!s?{isValid:a}:{},errors:t.errors}),n.shouldFocus&&!f&&ye(i,fe,s?c:v.mount),f},qe=s=>{const n={...d.mount?o:u};return A(s)?n:Q(s)?_(n,s):s.map(a=>_(n,a))},$e=(s,n)=>({invalid:!!_((n||t).errors,s),isDirty:!!_((n||t).dirtyFields,s),isTouched:!!_((n||t).touchedFields,s),isValidating:!!_((n||t).validatingFields,s),error:_((n||t).errors,s)}),Et=s=>{s&&Oe(s).forEach(n=>T(t.errors,n)),h.state.next({errors:s?t.errors:{}})},We=(s,n,a)=>{const f=(_(i,s,{_f:{}})._f||{}).ref,c=_(t.errors,s)||{},{ref:l,message:y,type:m,...k}=c;V(t.errors,s,{...k,...n,ref:f}),h.state.next({name:s,errors:t.errors,isValid:!1}),a&&a.shouldFocus&&f&&f.focus&&f.focus()},wt=(s,n)=>Z(s)?h.values.subscribe({next:a=>s(p(void 0,n),a)}):p(s,n,!0),Ae=(s,n={})=>{for(const a of s?Oe(s):v.mount)v.mount.delete(a),v.array.delete(a),n.keepValue||(T(i,a),T(o,a)),!n.keepError&&T(t.errors,a),!n.keepDirty&&T(t.dirtyFields,a),!n.keepTouched&&T(t.touchedFields,a),!n.keepIsValidating&&T(t.validatingFields,a),!r.shouldUnregister&&!n.keepDefaultValue&&T(u,a);h.values.next({values:{...o}}),h.state.next({...t,...n.keepDirty?{isDirty:b()}:{}}),!n.keepIsValid&&G()},ze=({disabled:s,name:n,field:a,fields:f,value:c})=>{if(Y(s)&&d.mount||s){const l=s?void 0:A(c)?Le(a?a._f:_(f,n)._f):c;V(o,n,l),ne(n,l,!1,!1,!0)}},De=(s,n={})=>{let a=_(i,s);const f=Y(n.disabled);return V(i,s,{...a||{},_f:{...a&&a._f?a._f:{ref:{name:s}},name:s,mount:!0,...n}}),v.mount.add(s),a?ze({field:a,disabled:n.disabled,name:s,value:n.value}):R(s,!0,n.value),{...f?{disabled:n.disabled}:{},...r.progressive?{required:!!n.required,min:_e(n.min),max:_e(n.max),minLength:_e(n.minLength),maxLength:_e(n.maxLength),pattern:_e(n.pattern)}:{},name:s,onChange:ce,onBlur:ce,ref:c=>{if(c){De(s,n),a=_(i,s);const l=A(c.value)&&c.querySelectorAll&&c.querySelectorAll("input,select,textarea")[0]||c,y=jr(l),m=a._f.refs||[];if(y?m.find(k=>k===l):l===a._f.ref)return;V(i,s,{_f:{...a._f,...y?{refs:[...m.filter(Ie),l,...Array.isArray(_(u,s))?[{}]:[]],ref:{type:l.type,name:s}}:{ref:l}}}),R(s,!1,void 0,l)}else a=_(i,s,{}),a._f&&(a._f.mount=!1),(r.shouldUnregister||n.shouldUnregister)&&!(Sr(v.array,s)&&d.action)&&v.unMount.add(s)}}},He=()=>r.shouldFocusError&&ye(i,fe,v.mount),St=s=>{Y(s)&&(h.state.next({disabled:s}),ye(i,(n,a)=>{const f=_(i,a);f&&(n.disabled=f._f.disabled||s,Array.isArray(f._f.refs)&&f._f.refs.forEach(c=>{c.disabled=f._f.disabled||s}))},0,!1))},Ke=(s,n)=>async a=>{let f;a&&(a.preventDefault&&a.preventDefault(),a.persist&&a.persist());let c=W(o);if(h.state.next({isSubmitting:!0}),r.resolver){const{errors:l,values:y}=await ee();t.errors=l,c=y}else await q(i);if(T(t.errors,"root"),B(t.errors)){h.state.next({errors:{}});try{await s(c,a)}catch(l){f=l}}else n&&await n({...t.errors},a),He(),setTimeout(He);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:B(t.errors)&&!f,submitCount:t.submitCount+1,errors:t.errors}),f)throw f},At=(s,n={})=>{_(i,s)&&(A(n.defaultValue)?$(s,W(_(u,s))):($(s,n.defaultValue),V(u,s,W(n.defaultValue))),n.keepTouched||T(t.touchedFields,s),n.keepDirty||(T(t.dirtyFields,s),t.isDirty=n.defaultValue?b(s,W(_(u,s))):b()),n.keepError||(T(t.errors,s),g.isValid&&G()),h.state.next({...t}))},Ge=(s,n={})=>{const a=s?W(s):u,f=W(a),c=B(s),l=c?u:f;if(n.keepDefaultValues||(u=a),!n.keepValues){if(n.keepDirtyValues)for(const y of v.mount)_(t.dirtyFields,y)?V(l,y,_(o,y)):$(y,_(l,y));else{if(Pe&&A(s))for(const y of v.mount){const m=_(i,y);if(m&&m._f){const k=Array.isArray(m._f.refs)?m._f.refs[0]:m._f.ref;if(Fe(k)){const U=k.closest("form");if(U){U.reset();break}}}}i={}}o=e.shouldUnregister?n.keepDefaultValues?W(u):{}:W(l),h.array.next({values:{...l}}),h.values.next({values:{...l}})}v={mount:n.keepDirtyValues?v.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},d.mount=!g.isValid||!!n.keepIsValid||!!n.keepDirtyValues,d.watch=!!e.shouldUnregister,h.state.next({submitCount:n.keepSubmitCount?t.submitCount:0,isDirty:c?!1:n.keepDirty?t.isDirty:!!(n.keepDefaultValues&&!se(s,u)),isSubmitted:n.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:c?[]:n.keepDirtyValues?n.keepDefaultValues&&o?xe(u,o):t.dirtyFields:n.keepDefaultValues&&s?xe(u,s):{},touchedFields:n.keepTouched?t.touchedFields:{},errors:n.keepErrors?t.errors:{},isSubmitSuccessful:n.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},Je=(s,n)=>Ge(Z(s)?s(o):s,n);return{control:{register:De,unregister:Ae,getFieldState:$e,handleSubmit:Ke,setError:We,_executeSchema:ee,_getWatch:p,_getDirty:b,_updateValid:G,_removeUnmounted:be,_updateFieldArray:x,_updateDisabledField:ze,_getFieldArray:N,_reset:Ge,_resetDefaultValues:()=>Z(r.defaultValues)&&r.defaultValues().then(s=>{Je(s,r.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:s=>{t={...t,...s}},_disableForm:St,_subjects:h,_proxyFormState:g,_setErrors:z,get _fields(){return i},get _formValues(){return o},get _state(){return d},set _state(s){d=s},get _defaultValues(){return u},get _names(){return v},set _names(s){v=s},get _formState(){return t},set _formState(s){t=s},get _options(){return r},set _options(s){r={...r,...s}}},trigger:de,register:De,handleSubmit:Ke,watch:wt,setValue:$,getValues:qe,reset:Je,resetField:At,clearErrors:Et,unregister:Ae,setError:We,setFocus:(s,n={})=>{const a=_(i,s),f=a&&a._f;if(f){const c=f.refs?f.refs[0]:f.ref;c.focus&&(c.focus(),n.shouldSelect&&c.select())}},getFieldState:$e}}function Xr(e={}){const r=j.useRef(),t=j.useRef(),[i,u]=j.useState({isDirty:!1,isValidating:!1,isLoading:Z(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Z(e.defaultValues)?void 0:e.defaultValues});r.current||(r.current={...$r(e),formState:i});const o=r.current.control;return o._options=e,Nr({subject:o._subjects.state,next:d=>{Rr(d,o._proxyFormState,o._updateFormState)&&u({...o._formState})}}),j.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),j.useEffect(()=>{if(o._proxyFormState.isDirty){const d=o._getDirty();d!==i.isDirty&&o._subjects.state.next({isDirty:d})}},[o,i.isDirty]),j.useEffect(()=>{e.values&&!se(e.values,t.current)?(o._reset(e.values,o._options.resetOptions),t.current=e.values,u(d=>({...d}))):o._resetDefaultValues()},[e.values,o]),j.useEffect(()=>{e.errors&&o._setErrors(e.errors)},[e.errors,o]),j.useEffect(()=>{o._state.mount||(o._updateValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),j.useEffect(()=>{e.shouldUnregister&&o._subjects.values.next({values:o._getWatch()})},[e.shouldUnregister,o]),r.current.formState=kr(i,o),r.current}const Yr=({value:e,onChange:r,width:t="100%",name:i,height:u,isRequired:o,label:d,pattern:v,placeholder:w,className:D,customStyles:g,...h})=>{const{register:C,formState:{errors:E}}=Dr();console.log("cs",g);const F=()=>r?S.jsx("input",{...h,value:e,onChange:({target:L})=>r(L.value),style:(g==null?void 0:g.input)||{},className:re.input,placeholder:w}):S.jsx(S.Fragment,{children:S.jsx("input",{...h,style:(g==null?void 0:g.input)||{},className:re.input,placeholder:w,...C(i,{required:o||!1,pattern:v})})});return S.jsxs("div",{style:{width:t,height:u},className:`${D||{}}  ${re.wrapper}`,children:[d?S.jsxs("label",{style:(g==null?void 0:g.label)||{},className:re.label,htmlFor:i,children:[S.jsxs("span",{className:re.label_text,children:[d," ",o&&S.jsx("span",{className:re.required_symbol,children:"*"})]}),F()]}):S.jsx(S.Fragment,{children:F()}),E[i]&&S.jsx("p",{className:re.input__error,children:E[i].message})]})};export{Mt as B,Qr as F,Yr as I,Gr as a,zt as f,Jr as r,Xr as u};
